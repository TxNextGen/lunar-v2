---
import '@/main.css';
import Shortcuts from '../layouts/shortcuts.astro';
import quotes from '../../public/a/json/quotes.json';

const randomIndex = Math.floor(Math.random() * quotes.length);
const randomQuote = quotes[randomIndex]?.quote || '';
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>New Tab</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content={Astro.generator} />
  </head>
  <body
    class="font-linux relative flex h-screen w-screen flex-col items-center justify-center overflow-hidden text-white"
  >
    <div
      class="absolute inset-0 opacity-[0.02]"
      style="background-image: url('data:image/svg+xml,%3Csvg width=\'60\' height=\'60\' viewBox=\'0 0 60 60\' xmlns=\'http://www.w3.org/2000/svg\'%3E%3Cg fill=\'none\' fill-rule=\'evenodd\'%3E%3Cg fill=\'%23ffffff\' fill-opacity=\'1\'%3E%3Cpath d=\'M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z\'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E');"
    >
    </div>

    <div class="flex flex-col items-center space-y-12">
      <div id="clock" class="flex items-baseline space-x-1 select-none">
        <span
          id="hours"
          class="text-[clamp(4rem,15vw,9rem)] leading-none font-black tracking-tighter text-white"
          style="text-shadow: 0 0 40px rgba(255,255,255,0.1);">12</span
        >
        <span class="text-[clamp(4rem,15vw,9rem)] leading-none font-black tracking-tighter opacity-50">:</span>
        <span
          id="minutes"
          class="text-[clamp(4rem,15vw,9rem)] leading-none font-black tracking-tighter text-white"
          style="text-shadow: 0 0 40px rgba(255,255,255,0.1);">59</span
        >
        <span class="text-[clamp(4rem,15vw,9rem)] leading-none font-black tracking-tighter opacity-50">:</span>
        <span
          id="seconds"
          class="text-[clamp(4rem,15vw,9rem)] leading-none font-black tracking-tighter text-white opacity-60"
          style="text-shadow: 0 0 40px rgba(255,255,255,0.1);">48</span
        >
        <span id="ampm" class="mt-2 ml-2 self-start text-[clamp(1rem,3vw,1.5rem)] font-bold text-white opacity-40"
          >AM</span
        >
      </div>
      <div class="mt-4 flex flex-col items-center justify-center text-center">
        <span class="text-2xl font-medium text-white/80 mx-auto">{randomQuote}</span>
      </div>
    </div>
    <Shortcuts />
    <div class="fixed right-5 bottom-5 z-50 flex items-center gap-1">
      <span class="px-3 py-1.5 text-[13px] font-medium text-white/50 transition-all duration-150 hover:text-white/90"
        >v{VERSION}</span
      >
      <span class="h-3 w-px bg-white/20"></span>
      <a
        href="https://github.com/Lunar-Proxy/lunar-v2"
        target="_blank"
        class="px-3 py-1.5 text-[13px] font-medium text-white/50 transition-all duration-150 hover:text-white/90"
      >
        GitHub
      </a>
      <span class="h-3 w-px bg-white/20"></span>
      <a
        href="https://discord.gg/fuPtWjYuf8"
        target="_blank"
        class="px-3 py-1.5 text-[13px] font-medium text-white/50 transition-all duration-150 hover:text-white/90"
      >
        Discord
      </a>
    </div>

    <div
      class="bg-background-overlay/60 border-border-default/20 fixed bottom-5 left-5 z-50 flex items-center gap-3 rounded-full border px-5 py-2.5 shadow-2xl backdrop-blur-md"
    >
      <span id="sl" class="text-sm font-medium text-white/60 tabular-nums">...</span>
      <div class="h-4 w-px bg-white/20"></div>
      <button
        id="refresh"
        class="transform text-white/40 transition-all duration-200 hover:rotate-180 hover:text-white/80 focus:outline-none"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-4 w-4"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
          stroke-width="2.5"
        >
          <path stroke-linecap="round" stroke-linejoin="round" d="M21 12a9 9 0 11-3-6.708M21 3v6h-6"></path>
        </svg>
      </button>
    </div>

    <script src="@scripts/new"></script>
  </body>
</html>
